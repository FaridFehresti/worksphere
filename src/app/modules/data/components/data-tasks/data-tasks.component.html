<div
  cdkDropList
  #todoList="cdkDropList"
  [cdkDropListData]="todo"
  class="example-list"
  (cdkDropListDropped)="drop($event)"
>
    @for(task of listOfTasks; track $index){
      <div  class="dragable-item" cdkDrag>

      <mat-card>
        <mat-card-header class="flex justify-between items-center w-full">
          <mat-card-title>
            {{ task.name }}
            <span class="text-text text-sm">({{ task.description }})</span>
          </mat-card-title>
          <mat-checkbox
            class="example-margin"
            [checked]="task.completed"
            [color]="task.color"
            [indeterminate]="someComplete(task)"
            (change)="setAll($event.checked, task)"
          >
          </mat-checkbox>
        </mat-card-header>
        <mat-divider class="!mx-4 !border-t-text"></mat-divider>
  
        <mat-card-content class="!flex !flex-col">
          @for (subtask of task.subtasks; track $index) {
            <mat-checkbox
            [(ngModel)]="subtask.completed"
            [color]="subtask.color"
            (ngModelChange)="updateAllComplete(task)"
          >
            {{ subtask.name }}
          </mat-checkbox>
          }
          
        </mat-card-content>
        <mat-card-footer class="flex gap-2">
          <mat-chip-set class="p-4" aria-label="Fish selection">
            @for (tag of task.tags; track $index) {
              <mat-chip >{{ tag }}</mat-chip>

            }
          </mat-chip-set>
        </mat-card-footer>
      </mat-card>
    </div>

    }
    
  </div>
